CREATE DATABASE GERENCIAMENTO_FARMACIA;
GO


USE GERENCIAMENTO_FARMACIA;
GO


CREATE TABLE CLIENTES (
    ID_CLIENTE INT PRIMARY KEY,
    Nome_Cliente NVARCHAR(100),
    CPF_Cliente CHAR(11),
    Telefone_Cliente NVARCHAR(15),
    Email_Cliente NVARCHAR(100)
);
GO


CREATE TABLE FUNCIONARIOS (
    ID_FUNCIONARIO INT PRIMARY KEY,
    Nome_Funcionario NVARCHAR(100),
    CPF_Funcionario CHAR(11),
    Telefone_Funcionario NVARCHAR(15),
    Data_Contratacao DATE,
    Salario DECIMAL(10, 2),
    Email_Funcionario NVARCHAR(100),
    Cargo NVARCHAR(50)
);
GO


CREATE TABLE CATEGORIAPRODUTOS (
    ID_CATEGORIA INT PRIMARY KEY,
    Nome_Categoria NVARCHAR(50),
    Descricao_Categoria NVARCHAR(500)
);
GO


CREATE TABLE PRODUTOS (
    ID_PRODUTOS INT PRIMARY KEY,
    Nome_Produto NVARCHAR(100),
    Descricao_Produto NVARCHAR(500),
    Preco_Produto DECIMAL(10, 2),
    ID_CATEGORIA INT,
    FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIAPRODUTOS(ID_CATEGORIA)
);
GO


CREATE TABLE FORNECEDORES (
    ID_FORNCEDOR INT PRIMARY KEY,
    Nome_Fornecedor NVARCHAR(100),
    Telefone_Fornecedor NVARCHAR(15),
    Email_Fornecedor NVARCHAR(100),
    Endereco_Fornecedor NVARCHAR(200),
    CNPJ_Fornecedor CHAR(14)
);
GO


-- Tabela REGISTROARMAZENAMENTO
CREATE TABLE REGISTROARMAZENAMENTO (
    ID_REGISTRO INT PRIMARY KEY,         
    Data_Registro DATE,                 
    Quantidade_Registro INT,           
    ID_PRODUTO INT,                      
    ID_FORNECEDOR INT,        
    ID_ESTOQUE INT,                      
    FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTOS(ID_PRODUTOS),   
    FOREIGN KEY (ID_FORNECEDOR) REFERENCES FORNECEDORES(ID_FORNCEDOR),
    FOREIGN KEY (ID_ESTOQUE) REFERENCES ESTOQUES(ID_ESTOQUE)   
);
GO


CREATE TABLE ESTOQUES (
    ID_ESTOQUE INT PRIMARY KEY,
    Quantidade_Estoque INT,
    Localizacao_Estoque NVARCHAR(100),
    ID_PRODUTO INT,
    FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTOS(ID_PRODUTOS)
);
GO


CREATE TABLE PAGAMENTOS (
    ID_PAGAMENTO INT PRIMARY KEY,
    Data_Pagamento DATE,
    Valor_Pagamento DECIMAL(10, 2),
    Metodo_Pagamento NVARCHAR(50),
    ID_VENDA INT,
    FOREIGN KEY (ID_VENDA) REFERENCES VENDAS(ID_VENDA)
);
GO


CREATE TABLE VENDAS (
    ID_VENDA INT PRIMARY KEY,
    Data_Venda DATE,
    Valor_Venda DECIMAL(10, 2),
    ID_CLIENTE INT,
    ID_FUNCIONARIO INT,
    FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES(ID_CLIENTE),
    FOREIGN KEY (ID_FUNCIONARIO) REFERENCES FUNCIONARIOS(ID_FUNCIONARIO)
);
GO


CREATE TABLE ITENSVENDA (
    ID_VENDA INT,
    ID_PRODUTO INT,
    Quantidade_Venda INT,
    Preco_Unitario DECIMAL(10, 2),
    PRIMARY KEY (ID_VENDA, ID_PRODUTO),
    FOREIGN KEY (ID_VENDA) REFERENCES VENDAS(ID_VENDA),
    FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTOS(ID_PRODUTOS)
);
GO


CREATE TABLE RECEITASMEDICA (
    ID_RECEITA INT PRIMARY KEY,
    ID_CLIENTE INT,
    Data_Receita DATE,
    FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES(ID_CLIENTE)
);
GO

